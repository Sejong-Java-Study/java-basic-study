## JVM 구조
JVM(Java Virtual Machine)은 자바 바이트 코드를 실행하기 위한 가상 머신이다. JVM은 자바의 플랫폼 독립성을 제공하며, 자바 프로그램이 어떤 기기에서나 동일한 결과를 나타낼 수 있도록 한다. JVM의 주요 구성 요소는 다음과 같다.

1. **클래스 로더(Class Loader)**
   - 자바 바이트 코드(.class 파일)를 런타임 시에 JVM 메모리에 적재하는 역할을 수행한다.
   - 런타임 시에 필요한 클래스 파일들을 동적으로 메모리에 로드하고, 링크를 통해 기존 클래스와 연결한다.
   - 또한, 클래스 로더를 통해 런타임 시에 동적으로 클래스를 추가, 변경, 제거할 수 있다.

2. **실행 엔진(Execution Engine)**
   - JVM 메모리에 적재된 바이트 코드를 기계어로 변환하여 실행한다.
   - 주요 구성 요소로는 인터프리터(Interpreter)와 JIT 컴파일러(Just-In-Time Compiler)가 있다.
     - 인터프리터: 바이트 코드를 한 줄씩 기계어로 해석하며 실행한다. 그러나 한 번 해석된 코드를 다시 해석하는 비효율성이 있다.
     - JIT 컴파일러: 자주 사용되는 바이트 코드를 기계어로 변환하고 캐싱하여 인터프리터의 비효율성을 해소한다. 이를 통해 프로그램의 실행 속도를 향상시킨다.

3. **메모리 구조(Memory Structure)**
   - JVM의 메모리 구조는 여러 영역으로 나뉘어 있으며, 각 영역은 다양한 목적을 가진다.
   - 주요 메모리 영역으로는 메소드 영역(Method Area), 힙 영역(Heap Area), 스택 영역(Stack Area), PC 레지스터(PC Registers), 네이티브 메소드 스택(Native Method Stack) 등이 있다.

4. **네이티브 메소드 인터페이스(Native Method Interface, JNI)**
   - 자바 애플리케이션에서 네이티브 메소드(C, C++ 언어로 작성된 메소드)를 호출할 수 있는 프레임워크를 제공한다.
   - JNI를 사용하면 자바 애플리케이션에서 기존의 C, C++ 라이브러리를 활용할 수 있다.

5. **가비지 컬렉터(Garbage Collector)**
   - JVM의 힙 영역에서 사용되지 않는 객체를 자동으로 회수하여 메모리를 관리하는 역할을 수행한다. 가비지 컬렉션은 다양한 알고리즘으로 구현되며, 가장 대표적인 방법으로는 'Mark and Sweep' 알고리즘이 있다.

## 클래스 로더
클래스 로더(Class Loader)는 JVM의 구성 요소 중 하나로, 자바 애플리케이션에서 사용되는 클래스 파일(.class)을 런타임 시에 메모리에 적재하는 역할을 수행한다. 클래스 로더는 다음과 같은 세 가지 단계를 거쳐 클래스를 로드한다.

1. **로딩(Loading)**
   - 클래스 로더는 클래스 파일(.class)을 읽어 JVM 메모리에 적재한다.
   - 이 과정에서 클래스 파일의 바이너리 데이터를 런타임 데이터 영역에 배치하고, 메모리 상에 클래스의 표현을 생성한다.
   - 여러 클래스 로더가 존재할 수 있으며, 각각의 클래스 로더는 독립적으로 동작한다.

2. **링크(Linking)**
   - 로딩된 클래스들을 서로 참조할 수 있도록 연결한다.
   - 링크 과정은 검증(Verification), 준비(Preparation), 해석(Resolution)의 세부 단계로 구성된다.
     - 검증: 클래스 파일의 구조와 바이트 코드가 올바른지 검사한다.
     - 준비: 정적 변수와 같은 클래스 레벨의 메모리 할당 및 초기화를 수행한다.
     - 해석: 심볼릭 메모리 참조를 메소드 영역의 실제 메모리 주소로 변환한다.

3. **초기화(Initialization)**
   - 모든 정적 변수에 대해 할당된 메모리를 기본값으로 초기화하고, 정적 초기화 블록을 실행한다.
   - 초기화 과정은 클래스 로더에 의해 한 번만 수행된다.

이러한 과정을 거쳐 클래스 로더는 자바 애플리케이션에서 필요한 클래스들을 동적으로 메모리에 로드하고 관리한다. 이를 통해 런타임 시에 동적으로 클래스를 추가, 변경, 제거할 수 있다.

## JVM 메모리 구조
JVM의 메모리 구조는 다양한 영역으로 나뉘어져 있다. 각 영역은 서로 다른 목적을 가지고 있으며, 클래스 로더를 통해 적재된 클래스와 객체들이 이러한 영역에서 관리된다. JVM의 주요 메모리 영역은 다음과 같다.

1. **메소드 영역(Method Area)**
   - 클래스 로더가 읽어 들인 클래스의 메타데이터와 정적 변수를 저장하는 영역이다.
   - 모든 스레드에 의해 공유되며, 각 클래스의 구조 정보, 상수 풀(Constant Pool), 필드 정보, 메소드 정보 등이 저장된다.

2. **힙 영역(Heap Area)**
   - 객체와 배열이 할당되고 관리되는 영역이다.
   - 모든 스레드에 의해 공유되며, 가비지 컬렉션의 대상이 된다.
   - Java 8 이전에는 힙 영역 내에 영구(Perm) 영역이 존재했으나, Java 8부터는 메타스페이스(Metaspace)로 대체되었다.

3. **스택 영역(Stack Area)**
   - 메소드 호출 시 생성되는 스택 프레임이 저장되는 영역이다.
   - 각 스레드마다 독립적인 스택 영역을 가지며, 스택 프레임에는 지역 변수, 파라미터, 리턴 값, 연산에 필요한 임시 데이터 등이 저장된다.

4. **PC 레지스터(PC Registers)**
   - 현재 실행 중인 명령어의 주소를 저장하는 영역이다.
   - 각 스레드마다 독립적인 PC 레지스터를 가지고 있다.

5. **네이티브 메소드 스택(Native Method Stack)**
   - 네이티브 메소드를 위한 스택 영역이다.
   - 각 스레드마다 독립적인 네이티브 메소드 스택을 가진다.

## JVM, JDK, JRE 비교
JDK, JVM, JRE는 자바 개발 및 실행에 필요한 핵심 구성 요소들입니다. 이들의 차이와 역할에 대해 알아보겠습니다.

1. **JVM (Java Virtual Machine)**
   - JVM은 자바 프로그램을 실행하기 위한 가상 머신입니다. JVM은 자바 바이트코드(.class 파일)를 실행하는 역할을 하며, 바이트코드를 해당 플랫폼에 맞는 기계어로 변환해주는 인터프리터와 JIT(Just-In-Time) 컴파일러를 포함합니다. JVM은 메모리 관리와 가비지 컬렉션 등의 기능을 제공하며, 자바 프로그램이 여러 플랫폼에서 동일하게 동작할 수 있도록 지원합니다. JVM은 JRE에 포함되어 있습니다.

2. **JDK (Java Development Kit)**
   - JDK는 자바 개발에 필요한 도구와 라이브러리들을 포함한 소프트웨어 개발 키트입니다. JDK는 자바 애플리케이션을 개발하고 컴파일하는 데 필요한 javac 컴파일러, JRE, 디버거, 문서 생성 도구(javadoc), JAR 파일 생성 도구 등 다양한 개발 도구를 제공합니다. JDK를 설치하면 JRE도 함께 설치되므로, 자바 개발자라면 JDK만 설치하면 됩니다.


3. **JRE (Java Runtime Environment)**
   - JRE는 자바 애플리케이션을 실행하기 위한 환경을 제공하는 소프트웨어입니다. JRE는 JVM과 자바 라이브러리, 필수적인 런타임 파일들을 포함하고 있습니다. JRE를 설치하면, 컴퓨터에서 자바 애플리케이션을 실행할 수 있습니다. 개발이 아닌 실행만 필요한 경우에는 JRE만 설치하면 충분합니다.

요약하면, JDK는 자바 개발에 필요한 도구와 라이브러리들을 제공하며 JRE를 포함하고 있습니다. JRE는 자바 애플리케이션을 실행하기 위한 환경을 제공하며 JVM을 포함하고 있습니다. JVM은 자바 프로그램을 실행하고, 메모리 관리 및 여러 플랫폼에서의 동일한 동작을 지원하는 가상 머신입니다. 이들 구성 요소는 자바 개발 및 실행을 위해 서로 밀접하게 연관되어 있습니다.